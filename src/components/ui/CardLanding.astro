---
interface Props {
  post: any;
}
const { post } = Astro.props;
const hero = post?.data?.heroImage as string;
const basePath = hero || '';
const widths = [320, 480, 640, 768, 960, 1280, 1920];
const quality = 80;
const srcset = basePath
  ? widths.map((w) => `${basePath}?nf_resize=fit&w=${w}&q=${quality} ${w}w`).join(', ')
  : '';
const sizes = "(max-width: 640px) 100vw, (max-width: 768px) 100vw, (max-width: 1024px) 50vw, 640px";
import FormattedDate from "@/components/FormattedDate.astro";
---
<a href={`/blog/${post.id}/`}
  class="relative gap-2 grid md:grid-cols-2 items-start"
>
  {hero && (
    <img
      src={`${basePath}?nf_resize=fit&w=640&q=${quality}`}
      srcset={srcset}
      sizes={sizes}
      alt=""
      class="miniature object-cover "
      loading="lazy"
      decoding="async"
    />
  )}
  <div class="flex flex-col col-span-1 md:pr-6">
    <h3 class="font-bold text-2xl">
    {post.data.title}
    </h3>
    <p class="font-bold text-xl">{post.data.description}</p>
    <div class="flex items-center">
      <FormattedDate date={new Date(post.data.pubDate)} />
      <span class="w-5 text-5xl -mb-7 ml-2">&dot;</span>
      4 min read
    </div>
    
  </div>
</a>
