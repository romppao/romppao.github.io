import{j as a}from"./jsx-runtime.D_zvdyIk.js";import{r as i}from"./index.Cd_vQiNd.js";import{U as T}from"./consts.BXjnPuQi.js";import{O as N}from"./OptimizedIcon.bLDtMgwm.js";import{M as U,i as H,u as $,P as W,b as D,d as K,L as _,a as E}from"./proxy.CpfdDTr1.js";function L(e,n){if(typeof e=="function")return e(n);e!=null&&(e.current=n)}function A(...e){return n=>{let t=!1;const o=e.map(r=>{const s=L(r,n);return!t&&typeof s=="function"&&(t=!0),s});if(t)return()=>{for(let r=0;r<o.length;r++){const s=o[r];typeof s=="function"?s():L(e[r],null)}}}}function B(...e){return i.useCallback(A(...e),e)}class F extends i.Component{getSnapshotBeforeUpdate(n){const t=this.props.childRef.current;if(t&&n.isPresent&&!this.props.isPresent){const o=t.offsetParent,r=H(o)&&o.offsetWidth||0,s=this.props.sizeRef.current;s.height=t.offsetHeight||0,s.width=t.offsetWidth||0,s.top=t.offsetTop,s.left=t.offsetLeft,s.right=r-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function G({children:e,isPresent:n,anchorX:t,root:o}){const r=i.useId(),s=i.useRef(null),m=i.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:y}=i.useContext(U),w=B(s,e?.ref);return i.useInsertionEffect(()=>{const{width:l,height:g,top:c,left:d,right:p}=m.current;if(n||!s.current||!l||!g)return;const x=t==="left"?`left: ${d}`:`right: ${p}`;s.current.dataset.motionPopId=r;const u=document.createElement("style");y&&(u.nonce=y);const R=o??document.head;return R.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${g}px !important;
            ${x}px !important;
            top: ${c}px !important;
          }
        `),()=>{R.contains(u)&&R.removeChild(u)}},[n]),a.jsx(F,{isPresent:n,childRef:s,sizeRef:m,children:i.cloneElement(e,{ref:w})})}const V=({children:e,initial:n,isPresent:t,onExitComplete:o,custom:r,presenceAffectsLayout:s,mode:m,anchorX:y,root:w})=>{const l=$(X),g=i.useId();let c=!0,d=i.useMemo(()=>(c=!1,{id:g,initial:n,isPresent:t,custom:r,onExitComplete:p=>{l.set(p,!0);for(const x of l.values())if(!x)return;o&&o()},register:p=>(l.set(p,!1),()=>l.delete(p))}),[t,l,o]);return s&&c&&(d={...d}),i.useMemo(()=>{l.forEach((p,x)=>l.set(x,!1))},[t]),i.useEffect(()=>{!t&&!l.size&&o&&o()},[t]),m==="popLayout"&&(e=a.jsx(G,{isPresent:t,anchorX:y,root:w,children:e})),a.jsx(W.Provider,{value:d,children:e})};function X(){return new Map}const b=e=>e.key||"";function z(e){const n=[];return i.Children.forEach(e,t=>{i.isValidElement(t)&&n.push(t)}),n}const q=({children:e,custom:n,initial:t=!0,onExitComplete:o,presenceAffectsLayout:r=!0,mode:s="sync",propagate:m=!1,anchorX:y="left",root:w})=>{const[l,g]=D(m),c=i.useMemo(()=>z(e),[e]),d=m&&!l?[]:c.map(b),p=i.useRef(!0),x=i.useRef(c),u=$(()=>new Map),[R,I]=i.useState(c),[C,P]=i.useState(c);K(()=>{p.current=!1,x.current=c;for(let h=0;h<C.length;h++){const f=b(C[h]);d.includes(f)?u.delete(f):u.get(f)!==!0&&u.set(f,!1)}},[C,d.length,d.join("-")]);const k=[];if(c!==R){let h=[...c];for(let f=0;f<C.length;f++){const j=C[f],v=b(j);d.includes(v)||(h.splice(f,0,j),k.push(j))}return s==="wait"&&k.length&&(h=k),P(z(h)),I(c),null}const{forceRender:O}=i.useContext(_);return a.jsx(a.Fragment,{children:C.map(h=>{const f=b(h),j=m&&!l?!1:c===C||d.includes(f),v=()=>{if(u.has(f))u.set(f,!0);else return;let M=!0;u.forEach(S=>{S||(M=!1)}),M&&(O?.(),P(x.current),m&&g?.(),o&&o())};return a.jsx(V,{isPresent:j,initial:!p.current||t?void 0:!1,custom:n,presenceAffectsLayout:r,mode:s,root:w,onExitComplete:j?void 0:v,anchorX:y,children:h},f)})})};function ne(){const[e,n]=i.useState(!1);i.useEffect(()=>{typeof window<"u"&&window.location.pathname==="/"&&n(!0)},[]);const t=()=>{n(!1)};return a.jsxs("div",{className:"flex flex-col items-end absolute top-1/2 right-0",children:[e?a.jsx("button",{className:"z-50 text-2xl cursor-pointer",onClick:()=>n(!1),"aria-label":"Close navigation menu","aria-expanded":e,children:a.jsx(N,{name:"close",className:"w-8 h-8"})}):a.jsx(E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:1},children:a.jsx("button",{className:"cursor-pointer",onClick:()=>n(!e),"aria-label":"Open navigation menu","aria-expanded":e,children:a.jsx(N,{name:"menu",className:"w-10 h-10"})})}),a.jsx(q,{children:e&&a.jsxs(E.nav,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.4},className:"flex flex-col text-right justify-center gap-10 fixed top-0  right-6 p-10 rounded-l-xl h-screen bg-background",children:[a.jsxs("h1",{className:"text-4xl font-bold",children:["Mi ",a.jsx("br",{})," Portfolio"]}),a.jsx("ul",{className:"text-xl flex flex-col gap-5 z-10",children:Object.entries(T).map(([o,r])=>a.jsx(E.li,{initial:{opacity:0,x:10},animate:{opacity:1,x:0},transition:{duration:.4},onClick:t,children:a.jsx(J,{href:r.href,target:"_self",rel:"noopener noreferrer",text:r.text})},o))})]})})]})}const J=({href:e,target:n,rel:t,text:o})=>{const r=typeof window<"u"&&window.location.pathname===e;return a.jsx(E.a,{href:e,target:n,rel:t,className:`animated-link ${r?"font-bold text-3xl":""}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:o})};export{ne as default};
