import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as s}from"./index.Cd_vQiNd.js";import{O as f}from"./OptimizedIcon.bLDtMgwm.js";import{a as N}from"./proxy.CpfdDTr1.js";function S({items:m}){const[a,d]=s.useState(""),[l,n]=s.useState(!1),[x,i]=s.useState([]),[c,r]=s.useState(!1),[p,h]=s.useState(!1),o=s.useRef(null);return s.useEffect(()=>{function t(u){o.current&&(o.current.contains(u.target)||n(!1))}return document.addEventListener("mousedown",t),()=>document.removeEventListener("mousedown",t)},[]),s.useEffect(()=>{if(!a.trim()){i([]),r(!1);return}r(!0);const t=setTimeout(()=>{const u=a.toLowerCase(),g=m.filter(j=>j.title.toLowerCase().includes(u));i(g),r(!1)},200);return()=>clearTimeout(t)},[a,m]),e.jsxs("div",{ref:o,className:"relative",children:[e.jsx("button",{className:"cursor-pointer text-black",onClick:()=>n(!l),"aria-label":"Open search bar","aria-expanded":l,children:e.jsx(f,{name:"search",className:"w-8 h-8"})}),l&&e.jsx(N.div,{className:"absolute top-0 right-0",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,x:-10},transition:{duration:.2},children:e.jsxs("div",{className:"w-72 p-3 rounded-lg bg-white shadow-lg flex flex-col gap-3",children:[e.jsxs("div",{className:"flex flex-row items-center gap-3",children:[e.jsx("input",{type:"text",placeholder:"Search...",value:a,onChange:t=>{d(t.target.value),h(!0)},className:"w-full h-10 px-3 outline-none border-b",autoFocus:!0}),e.jsx("button",{onClick:()=>{d(""),h(!1),i([]),r(!1),n(!1)},className:"cursor-pointer w-10 h-10 font-fugaz text-black","aria-label":"Close search bar",children:e.jsx(f,{name:"close",className:"w-8 h-8"})})]}),e.jsxs("div",{className:"max-h-72 overflow-y-auto bg-muted",children:[c&&e.jsx("div",{className:"p-3 text-sm text-gray-500",children:"Searching..."}),!c&&p&&a.trim()===""&&e.jsx("div",{className:"p-3 text-sm text-gray-500",children:"Write to search"}),!c&&a.trim()!==""&&x.length===0&&e.jsx("div",{className:"p-3 text-sm text-gray-500",children:"No results"}),e.jsx("ul",{className:"divide-y",children:x.map(t=>e.jsx("li",{className:"hover:bg-gray-50",children:e.jsxs("a",{href:t.url,className:"block px-3 py-2",children:[e.jsx("span",{className:"text-sm font-medium",children:t.title}),e.jsx("span",{className:"ml-2 text-xs text-gray-500",children:t.collection})]})},t.url))})]})]})})]})}export{S as default};
