import{j as u}from"./jsx-runtime.D_zvdyIk.js";import{r as e}from"./index.Cd_vQiNd.js";import{u as b,M as j,m as y,f as E,c as _,a as R}from"./proxy.CpfdDTr1.js";function v(r){const s=b(()=>y(r)),{isStatic:i}=e.useContext(j);if(i){const[,n]=e.useState(r);e.useEffect(()=>s.on("change",n),[])}return s}function C(r){const s=e.useRef(0),{isStatic:i}=e.useContext(j);e.useEffect(()=>{if(i)return;const n=({timestamp:d,delta:x})=>{s.current||(s.current=d),r(d-s.current,x)};return E.update(n,!0),()=>_(n)},[r])}const L=({imageCount:r,scrollSpeed:s=3,interval:i=50})=>{const[n,d]=e.useState([]),x=e.useRef(null),M=e.useRef(null),p=e.useRef(null),f=v(0),m=v(0),[l,S]=e.useState(!1);return e.useEffect(()=>{const t=()=>{S(window.innerWidth<768)};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]),e.useEffect(()=>{const t=[{src:"/assets/photo_2_2025-10-20_21-32-55.jpg",alt:"Slider image 1"},{src:"/assets/photo_4_2025-10-20_21-32-55.jpg",alt:"Slider image 2"},{src:"/assets/photo_1_2025-10-20_21-32-55.jpg",alt:"Slider image 3"}],o=Math.min(Math.max(0,r),t.length),a=t.slice(0,o);d(a)},[r]),e.useEffect(()=>{f.set(0),m.set(0),M.current=null},[n,s,i,f,m]),C((t,o)=>{const a=x.current,g=p.current;if(!a||!g||n.length===0)return;const w=s*1e3/Math.max(1,i)*o/1e3;if(l){const h=Math.max(0,g.scrollWidth-a.clientWidth);if(h<=0)return;let c=m.get()-w;Math.abs(c)>=h-1&&(c=0),m.set(c)}else{const h=Math.max(0,g.scrollHeight-a.clientHeight);if(h<=0)return;let c=f.get()-w;Math.abs(c)>=h-1&&(c=0),f.set(c)}}),n.length===0?u.jsx("div",{className:"w-full h-screen flex justify-center items-center bg-gray-100 gap-2",children:["#d991c2","#9869b8","#6756cc"].map((t,o)=>u.jsx("div",{className:"w-5 h-5 rounded-full animate-bounce",style:{backgroundColor:t,animationDelay:`${o*.1}s`}},o))}):u.jsx("div",{className:"h-screen w-full overflow-hidden relative",ref:x,children:u.jsx(R.div,{ref:p,style:{y:l?0:f,x:l?m:0,willChange:"transform"},className:`h-full flex gap-10 ${l?"flex-row items-center":"flex-col"}`,children:n.map(({src:t,alt:o},a)=>u.jsx("div",{className:`flex justify-center flex-grow ${l?"min-w-[90vw]":""}`,children:u.jsx("img",{src:t,alt:o,loading:a===0?"eager":"lazy",decoding:"async",draggable:!1,fetchPriority:a===0?"high":"auto",className:`object-contain ${l?"max-h-[80vh] max-w-[90vw]":"max-w-full max-h-[80vh]"}`})},a))})})};export{L as default};
